{"version":3,"sources":["webpack:///./src/app/views/home/home.module.ts","webpack:///./src/app/views/home/home.routing.ts","webpack:///./src/app/views/home/home.service.ts","webpack:///./src/app/views/home/home/home.component.html","webpack:///./src/app/views/home/home/home.component.ts"],"names":[],"mappings":"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","file":"views-home-home-module.js","sourcesContent":["import { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { HomeRoutingModule } from './home.routing';\nimport { HomeComponent } from './home/home.component';\nimport { ComponentsModule } from 'app/tools/components/components.module';\nimport { HomeService } from \"app/views/home/home.service\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HomeRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [HomeComponent],\n  providers: [HomeService],\n  exports: [],\n  schemas: [NO_ERRORS_SCHEMA]\n})\nexport class HomeModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HomeComponent } from 'app/views/home/home/home.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: HomeComponent,\n  data: { name: 'home', title: 'Hostalar√≠a' }\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomeRoutingModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs';\nimport { IOrganization } from 'app/tools/organization.model';\n\n@Injectable()\nexport class HomeService {\n  private url = 'home';\n  constructor(private http: HttpClient) { }\n\n  getAllOrganizations(): Observable<IOrganization[]> {\n    return this.http\n      .get<IOrganization[]>(`${this.url}/organizations`);\n  }\n\n}\n","module.exports = \"<ab-dashboard [schemas]=\\\"widgets\\\">\\n</ab-dashboard>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { IWidgetSchema, IAction, ILoadEmptyStateSchema, ITimelineSchema } from 'app/tools/schema.model';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { IOrganization } from 'app/tools/organization.model';\nimport { HomeService } from 'app/views/home/home.service';\n\n@Component({\n  selector: 'ab-home',\n  templateUrl: './home.component.html',\n  styles: []\n})\nexport class HomeComponent implements OnInit {\n  public schemas: IWidgetSchema\n  public widgets: IWidgetSchema[] = [];\n\n  constructor(\n    private home: HomeService,\n    private schema: SchemaService\n  ) { }\n\n  ngOnInit() {\n    this.schema\n      .getSchema$('home').subscribe(schema => {\n        this.schemas = schema;\n        this.home\n          .getAllOrganizations()\n          .subscribe(organizations => this.createWidgets(organizations));\n      });\n  }\n\n  createWidgets(organizations: IOrganization[]) {\n    this.widgets = [];\n    organizations.forEach(organization => {\n      const organizationWidget: IWidgetSchema = JSON.parse(JSON.stringify(this.schemas));\n      this.pupulateWidget(organizationWidget, organization);\n      this.widgets.push(organizationWidget);\n    });\n  }\n\n  pupulateWidget(widget, target) {\n    // To Do: autopopulate using reflection...)\n    widget.header.title = this.schema.valueByPath(target, 'name');\n    widget.header.subtitle = this.schema.valueByPath(target, 'slogan');\n    widget.actions[0].label = `Ver oferta centro`;\n    widget.actions[0].link = `/org/${this.schema.valueByPath(target, 'slug')}`;\n    widget.image = `assets/images/${this.schema.valueByPath(target, 'slug')}.jpg`;\n    widget.type = 'card';\n  }\n\n}\n"],"sourceRoot":""}