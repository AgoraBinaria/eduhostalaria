{"version":3,"sources":["webpack:///./src/app/views/me/me.service.ts","webpack:///./src/app/views/organization/organization.service.ts"],"names":[],"mappings":"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","file":"default~views-me-me-module~views-organization-organization-module.js","sourcesContent":["import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { LoggingService } from 'app/tools/analytics.service';\r\nimport { IOrganization } from 'app/tools/organization.model';\r\nimport { SecurityService } from 'app/tools/security.service';\r\nimport { Observable } from 'rxjs';\r\nimport { map, tap } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class MeService {\r\n  private organizationsUrl = '_/organizations';\r\n  private usersUrl = '_/users';\r\n  private eventsUrl = '_/events';\r\n  private bookingsUrl = '_/bookings';\r\n  private credentialsUrl = 'credentials';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private security: SecurityService,\r\n    private log: LoggingService\r\n  ) {}\r\n\r\n  getOrganizationsCount(): Observable<number> {\r\n    return this.http\r\n      .get<any>(`${this.organizationsUrl}/count`)\r\n      .pipe(map(res => res.data));\r\n  }\r\n\r\n  getUsersCount(): Observable<number> {\r\n    return this.http\r\n      .get<any>(`${this.usersUrl}/count`)\r\n      .pipe(map(res => res.data));\r\n  }\r\n\r\n  getAdministratedOrganization(id): Observable<IOrganization> {\r\n    return this.http.get<IOrganization>(`${this.organizationsUrl}/${id}`);\r\n  }\r\n\r\n  changePassword(password: any): Observable<any> {\r\n    return this.http.patch(`${this.credentialsUrl}/`, password);\r\n  }\r\n\r\n  editProfile(userProfile: any): Observable<any> {\r\n    const user = this.security.getLocalUser();\r\n    const aux = Object.assign(user, userProfile);\r\n    return this.http.patch(`${this.usersUrl}/me`, aux);\r\n  }\r\n\r\n  getUsers(name: string, status: string): Observable<any[]> {\r\n    let params = new HttpParams();\r\n\r\n    if (name) {\r\n      params = params.set('name', name);\r\n    }\r\n\r\n    if (status) {\r\n      params = params.set('status', status);\r\n    }\r\n\r\n    return this.http.get<any>(this.usersUrl, { params });\r\n  }\r\n\r\n  disableUser(user: any): Observable<any> {\r\n    return this.http.post(`${this.credentialsUrl}/_/dissableds`, user);\r\n  }\r\n\r\n  approbeUser(user: any): Observable<any> {\r\n    return this.http.post(`${this.credentialsUrl}/_/approvals`, user);\r\n  }\r\n\r\n  removeUserDefinitively(userId: string): Observable<any> {\r\n    return this.http.delete(`${this.usersUrl}/${userId}`);\r\n  }\r\n\r\n  deleteUser(): Observable<any> {\r\n    return this.http.delete(`${this.usersUrl}/me`);\r\n  }\r\n\r\n  inviteUser(newUser: any): Observable<any> {\r\n    const user = this.security.getLocalUser();\r\n    newUser.roles = [newUser.role];\r\n    newUser.organizationId = user.organizationId;\r\n    delete newUser.role;\r\n    return this.http\r\n      .post(`${this.credentialsUrl}/_/invitations`, newUser)\r\n      .pipe(\r\n        tap(x =>\r\n          this.log.sendEvent('Invitations', user.name, JSON.stringify(newUser))\r\n        )\r\n      );\r\n  }\r\n\r\n  reInviteUser(user: any): Observable<any> {\r\n    return this.http.post(`${this.credentialsUrl}/_/invitations/resend`, user);\r\n  }\r\n\r\n  getOrganizations(): Observable<any[]> {\r\n    return this.http.get<any>(this.organizationsUrl).pipe(\r\n      map(data =>\r\n        data.map(d => {\r\n          const org = {\r\n            _id: d._id,\r\n            name: d.name,\r\n            admin: { name: '', email: '', userId: '' }\r\n          };\r\n          return org;\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  getOrganizationAdmin(organizationId: number): Observable<any> {\r\n    const params = new HttpParams().set('role', 'ADMIN');\r\n    const url = `${this.organizationsUrl}/${organizationId}/users`;\r\n    return this.http.get<any>(url, { params });\r\n  }\r\n\r\n  setOrganizationAdmin(newAdmin) {\r\n    newAdmin.roles = [];\r\n    newAdmin.roles.push('ADMIN', 'MESTRE');\r\n    return this.http.post(`${this.credentialsUrl}/_/invitations`, newAdmin);\r\n  }\r\n\r\n  postOrganization(newOrganization) {\r\n    return this.http.post(this.organizationsUrl, newOrganization);\r\n  }\r\n\r\n  deleteOrganization(oldOrganization) {\r\n    return this.http.delete(`${this.organizationsUrl}/${oldOrganization._id}`);\r\n  }\r\n\r\n  updateOrganization(organization: IOrganization): Observable<IOrganization> {\r\n    return this.http\r\n      .patch<IOrganization>(`${this.organizationsUrl}`, organization)\r\n      .pipe(tap(res => this.security.setLocalOrganization(organization)));\r\n  }\r\n\r\n  getEventById(eventId) {\r\n    return this.http.get(`${this.eventsUrl}/${eventId}`);\r\n  }\r\n\r\n  getEventBySlug(eventSlug) {\r\n    return this.http.get(`${this.eventsUrl}/slug/${eventSlug}`);\r\n  }\r\n\r\n  postEvent(event) {\r\n    const user = this.security.getLocalUser();\r\n    event.freeSeats = Number(event.capacity);\r\n    delete event.bookingsNumber;\r\n    return this.http\r\n      .post(this.eventsUrl, event)\r\n      .pipe(\r\n        tap(x => this.log.sendEvent('Events', user.name, JSON.stringify(event)))\r\n      );\r\n  }\r\n\r\n  editEvent(event) {\r\n    delete event.pax;\r\n    delete event.bookingsNumber;\r\n    return this.http.patch(`${this.eventsUrl}/${event._id}`, { event });\r\n  }\r\n\r\n  postEventFiles(eventId, files: FormData) {\r\n    return this.http.post(`${this.eventsUrl}/${eventId}/files`, files);\r\n  }\r\n\r\n  postOrganizationBanner(organizationId, files: FormData) {\r\n    return this.http.post(\r\n      `${this.organizationsUrl}/${organizationId}/files`,\r\n      files\r\n    );\r\n  }\r\n\r\n  removeEventFile(eventId, fileName) {\r\n    // TODO: Change url for file url\r\n    // const init = url.indexOf(this.eventsUrl);\r\n    // const path = url.substring(init);\r\n    // return this.http.delete(path);\r\n    return this.http.delete(`${this.eventsUrl}/${eventId}/files/${fileName}`);\r\n  }\r\n\r\n  removeOrganizationBanner(organizationId, fileName) {\r\n    return this.http.delete(\r\n      `${this.organizationsUrl}/${organizationId}/files/${fileName}`\r\n    );\r\n  }\r\n\r\n  removeEvent(eventId) {\r\n    return this.http.delete(`${this.eventsUrl}/${eventId}`);\r\n  }\r\n\r\n  changeEventStatus(event, status) {\r\n    const payload = {\r\n      event\r\n    };\r\n\r\n    delete payload.event.pax;\r\n    delete payload.event.bookingsNumber;\r\n\r\n    if (event.owner && event.owner._id) {\r\n      payload.event.ownerId = event.owner._id;\r\n      delete payload.event.owner;\r\n    }\r\n\r\n    payload.event.status = status;\r\n\r\n    return this.http.patch(`${this.eventsUrl}/${event._id}`, payload);\r\n  }\r\n\r\n  cancelEvent(event, sendMessage, customMessage) {\r\n    event.status = 'CANCELED';\r\n\r\n    delete event.pax;\r\n    delete event.bookingsNumber;\r\n\r\n    if (event.owner && event.owner._id) {\r\n      event.ownerId = event.owner._id;\r\n      delete event.owner;\r\n    }\r\n\r\n    return this.http.patch(`${this.eventsUrl}/${event._id}`, {\r\n      event,\r\n      sendMessage,\r\n      customMessage\r\n    });\r\n  }\r\n\r\n  deleteEvent(eventId) {\r\n    return this.http.delete(`${this.eventsUrl}/${eventId}`);\r\n  }\r\n\r\n  bookEvent(payload) {\r\n    const user = this.security.getLocalUser();\r\n    payload.seats = Number(payload.seats);\r\n    return this.http\r\n      .post(this.bookingsUrl, payload)\r\n      .pipe(\r\n        tap(x =>\r\n          this.log.sendEvent('Bookings', user.name, JSON.stringify(payload))\r\n        )\r\n      );\r\n  }\r\n\r\n  bookEventGuest(payload) {\r\n    const user = this.security.getLocalUser();\r\n    payload.seats = Number(payload.seats);\r\n    return this.http\r\n      .post(`${this.credentialsUrl}/bookingregistrations`, payload)\r\n      .pipe(\r\n        tap(x =>\r\n          this.log.sendEvent(\r\n            'Bookings.Registrations',\r\n            user ? user.name : 'anonymous',\r\n            JSON.stringify(payload)\r\n          )\r\n        )\r\n      );\r\n  }\r\n\r\n  editBooking(booking) {\r\n    return this.http.patch(`${this.bookingsUrl}/${booking._id}`, booking);\r\n  }\r\n\r\n  getUserById(userId) {\r\n    return this.http.get(`${this.credentialsUrl}/_/${userId}`);\r\n  }\r\n\r\n  getBooking(bookingId) {\r\n    return this.http.get(`${this.bookingsUrl}/${bookingId}`);\r\n  }\r\n\r\n  getBookingsByEventId(eventId) {\r\n    return this.http.get(`${this.eventsUrl}/${eventId}/bookings`);\r\n  }\r\n\r\n  getBookingsByUserId(payload?) {\r\n    let params = new HttpParams();\r\n\r\n    if (payload) {\r\n      Object.keys(payload).forEach(key => {\r\n        params = params.set(key, payload[key]);\r\n      });\r\n    }\r\n\r\n    return this.http.get(`${this.bookingsUrl}`, { params });\r\n  }\r\n\r\n  getBookingsByEventIdAndNotStatus(eventId, status) {\r\n    const params = new HttpParams().set('status', status);\r\n    return this.http.get(`${this.eventsUrl}/${eventId}/bookings`, { params });\r\n  }\r\n\r\n  changeBookingStatus(booking, status) {\r\n    booking.status = status;\r\n    return this.http.patch(`${this.bookingsUrl}/${booking._id}`, booking);\r\n  }\r\n\r\n  updateBooking(booking) {\r\n    return this.http.patch(`${this.bookingsUrl}/${booking._id}`, booking);\r\n  }\r\n\r\n  filterEvents(payload) {\r\n    let params = new HttpParams();\r\n\r\n    Object.keys(payload).forEach(key => {\r\n      params = params.set(key, payload[key]);\r\n    });\r\n\r\n    return this.http.get(`${this.eventsUrl}`, { params });\r\n  }\r\n\r\n  rateBooking(bookingId, payload) {\r\n    return this.http.post(`${this.bookingsUrl}/${bookingId}/rating`, payload);\r\n  }\r\n\r\n  uploadThumbnail(eventId, base64Thumbnail, type) {\r\n    return this.http.post(`${this.eventsUrl}/${eventId}/thumbnail`, {\r\n      thumbnail: base64Thumbnail,\r\n      type\r\n    });\r\n  }\r\n\r\n  deleteThumbnail(eventId) {\r\n    return this.http.delete(`${this.eventsUrl}/${eventId}/thumbnail`);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Http } from '@angular/http';\r\nimport { Observable } from 'rxjs';\r\nimport { SchemaService } from 'app/tools/components/schema.service';\r\nimport { IFormSchema, IWidgetSchema } from 'app/tools/schema.model';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable()\r\nexport class OrganizationService {\r\n  private organizationsUrl = 'home/organizations';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private schemaService: SchemaService) { }\r\n\r\n  getOrganizationBySlug(slug) {\r\n    return this.http\r\n      .get<IOrganization>(`${this.organizationsUrl}/${slug}`)\r\n  }\r\n\r\n  getEventsByOrganizationId(id) {\r\n    return this.http.get(`${this.organizationsUrl}/${id}/events`);\r\n  }\r\n\r\n  getSchemaValues(form: IFormSchema, target: any) {\r\n    return this.schemaService.populateDefaultValues(form, target)\r\n  }\r\n}\r\n\r\nexport interface IOrganization {\r\n  _id?: string;\r\n  slug: string;\r\n  name: string;\r\n  slogan: string;\r\n  email: string;\r\n  phone: string;\r\n  url: string;\r\n  address: any;\r\n  city: string;\r\n  description: string;\r\n  banner: object;\r\n  image: string;\r\n  standardPrice: string;\r\n  reducedPrice: string;\r\n}\r\n\r\nexport interface IEvent {\r\n  _id?: string;\r\n  title: string;\r\n  date: string;\r\n  time: string;\r\n  shift: string;\r\n  offer: string;\r\n}\r\n"],"sourceRoot":""}