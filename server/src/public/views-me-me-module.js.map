{"version":3,"sources":["webpack:///./node_modules/image-compressor.js/dist/image-compressor.esm.js","webpack:///./src/app/views/me/booking/booking.component.css","webpack:///./src/app/views/me/booking/booking.component.html","webpack:///./src/app/views/me/booking/booking.component.ts","webpack:///./src/app/views/me/bookings/bookings.component.html","webpack:///./src/app/views/me/bookings/bookings.component.ts","webpack:///./src/app/views/me/event-bookings/event-bookings.component.html","webpack:///./src/app/views/me/event-bookings/event-bookings.component.ts","webpack:///./src/app/views/me/event-print/event-print.component.css","webpack:///./src/app/views/me/event-print/event-print.component.html","webpack:///./src/app/views/me/event-print/event-print.component.ts","webpack:///./src/app/views/me/event/event.component.css","webpack:///./src/app/views/me/event/event.component.html","webpack:///./src/app/views/me/event/event.component.ts","webpack:///./src/app/views/me/events-ushier/events-ushier.component.css","webpack:///./src/app/views/me/events-ushier/events-ushier.component.html","webpack:///./src/app/views/me/events-ushier/events-ushier.component.ts","webpack:///./src/app/views/me/events/events.component.css","webpack:///./src/app/views/me/events/events.component.html","webpack:///./src/app/views/me/events/events.component.ts","webpack:///./src/app/views/me/me.module.ts","webpack:///./src/app/views/me/me.routing.ts","webpack:///./src/app/views/me/me/me.component.html","webpack:///./src/app/views/me/me/me.component.ts","webpack:///./src/app/views/me/organization/organization.component.css","webpack:///./src/app/views/me/organization/organization.component.html","webpack:///./src/app/views/me/organization/organization.component.ts","webpack:///./src/app/views/me/organizations/organizations.component.css","webpack:///./src/app/views/me/organizations/organizations.component.html","webpack:///./src/app/views/me/organizations/organizations.component.ts","webpack:///./src/app/views/me/users/users.component.css","webpack:///./src/app/views/me/users/users.component.html","webpack:///./src/app/views/me/users/users.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,YAAY,EAAE;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,sCAAsC,gBAAgB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAIG;AACH;AACA,GAAG;AACH;AACA;AACA,CAAC;AACD,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,8FAA8F;AAC9G,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,6DAA6D;AAC7E,YAAY;AACZ;AACA;;AAEA;AACA;AACA,YAAY;AACZ,aAAa,yBAAyB;AACtC,aAAa,kBAAkB;AAC/B;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;AACA,YAAY;AACZ,aAAa,yBAAyB;AACtC,aAAa,kBAAkB;AAC/B;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;AACA,YAAY;AACZ,aAAa,KAAK;AAClB;AACA,sBAAsB;AACtB;AACA;;AAEA;AACA;AACA,YAAY;AACZ,aAAa,MAAM;AACnB;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;;AAEA;;AAEA,iBAAiB,YAAY;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB;AACA;;AAEA,gCAAgC;AAChC;;AAEA;AACA;AACA,WAAW,YAAY;AACvB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,aAAa;AAC5B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,GAAG;;AAEvC;AACA;AACA,cAAc;AACd,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;AAQD;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,OAAO;AACpB,eAAe,QAAQ;AACvB;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA,2BAA2B;;AAE3B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,sCAAsC;AACtC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW;AACX;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;;;;;ACvyBA,iCAAiC,kBAAkB,wBAAwB,4BAA4B,uBAAuB,GAAG,UAAU,mBAAmB,GAAG,WAAW,sBAAsB,GAAG,mBAAmB,qBAAqB,GAAG,aAAa,kBAAkB,GAAG,C;;;;;;;;;;;ACAlR,oPAAoP,8GAA8G,eAAe,wNAAwN,sBAAsB,wvCAAwvC,wBAAwB,0JAA0J,2BAA2B,+rC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAl/D;AACE;AACgB;AACnB;AACE;AACH;AAOhD;IASE,0BACU,GAAe,EACf,KAAqB,EACrB,EAAa,EACb,aAA4B;QAH5B,QAAG,GAAH,GAAG,CAAY;QACf,UAAK,GAAL,KAAK,CAAgB;QACrB,OAAE,GAAF,EAAE,CAAW;QACb,kBAAa,GAAb,aAAa,CAA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","file":"views-me-me-module.js","sourcesContent":["/*!\n * Image Compressor v1.1.3\n * https://github.com/xkeshi/image-compressor\n *\n * Copyright (c) 2017-2018 Xkeshi\n * Released under the MIT license\n *\n * Date: 2018-03-23T01:35:12.857Z\n */\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar canvasToBlob = createCommonjsModule(function (module) {\n/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n\n/* global atob, Blob, define */\n\n(function (window) {\n  var CanvasPrototype =\n    window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\n  var hasBlobConstructor =\n    window.Blob &&\n    (function () {\n      try {\n        return Boolean(new Blob())\n      } catch (e) {\n        return false\n      }\n    })();\n  var hasArrayBufferViewSupport =\n    hasBlobConstructor &&\n    window.Uint8Array &&\n    (function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100\n      } catch (e) {\n        return false\n      }\n    })();\n  var BlobBuilder =\n    window.BlobBuilder ||\n    window.WebKitBlobBuilder ||\n    window.MozBlobBuilder ||\n    window.MSBlobBuilder;\n  var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n  var dataURLtoBlob =\n    (hasBlobConstructor || BlobBuilder) &&\n    window.atob &&\n    window.ArrayBuffer &&\n    window.Uint8Array &&\n    function (dataURI) {\n      var matches,\n        mediaType,\n        isBase64,\n        dataString,\n        byteString,\n        arrayBuffer,\n        intArray,\n        i,\n        bb;\n      // Parse the dataURI components as per RFC 2397\n      matches = dataURI.match(dataURIPattern);\n      if (!matches) {\n        throw new Error('invalid data URI')\n      }\n      // Default to text/plain;charset=US-ASCII\n      mediaType = matches[2]\n        ? matches[1]\n        : 'text/plain' + (matches[3] || ';charset=US-ASCII');\n      isBase64 = !!matches[4];\n      dataString = dataURI.slice(matches[0].length);\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString);\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString);\n      }\n      // Write the bytes of the string to an ArrayBuffer:\n      arrayBuffer = new ArrayBuffer(byteString.length);\n      intArray = new Uint8Array(arrayBuffer);\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i);\n      }\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n      if (hasBlobConstructor) {\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n          type: mediaType\n        })\n      }\n      bb = new BlobBuilder();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mediaType)\n    };\n  if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n    if (CanvasPrototype.mozGetAsFile) {\n      CanvasPrototype.toBlob = function (callback, type, quality) {\n        var self = this;\n        setTimeout(function () {\n          if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n            callback(dataURLtoBlob(self.toDataURL(type, quality)));\n          } else {\n            callback(self.mozGetAsFile('blob', type));\n          }\n        });\n      };\n    } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n      CanvasPrototype.toBlob = function (callback, type, quality) {\n        var self = this;\n        setTimeout(function () {\n          callback(dataURLtoBlob(self.toDataURL(type, quality)));\n        });\n      };\n    }\n  }\n  if (typeof undefined === 'function' && undefined.amd) {\n    undefined(function () {\n      return dataURLtoBlob\n    });\n  } else if ('object' === 'object' && module.exports) {\n    module.exports = dataURLtoBlob;\n  } else {\n    window.dataURLtoBlob = dataURLtoBlob;\n  }\n})(window);\n});\n\n/* globals Blob */\nvar toString = Object.prototype.toString;\n\nvar isBlob = function (x) {\n\treturn x instanceof Blob || toString.call(x) === '[object Blob]';\n};\n\nvar DEFAULTS = {\n  /**\n   * Indicates if read the image's Exif Orientation information,\n   * and then rotate or flip the image automatically.\n   * @type {boolean}\n   */\n  checkOrientation: true,\n\n  /**\n   * The max width of the output image.\n   * @type {number}\n   */\n  maxWidth: Infinity,\n\n  /**\n   * The max height of the output image.\n   * @type {number}\n   */\n  maxHeight: Infinity,\n\n  /**\n   * The min width of the output image.\n   * @type {number}\n   */\n  minWidth: 0,\n\n  /**\n   * The min height of the output image.\n   * @type {number}\n   */\n  minHeight: 0,\n\n  /**\n   * The width of the output image.\n   * If not specified, the natural width of the source image will be used.\n   * @type {number}\n   */\n  width: undefined,\n\n  /**\n   * The height of the output image.\n   * If not specified, the natural height of the source image will be used.\n   * @type {number}\n   */\n  height: undefined,\n\n  /**\n   * The quality of the output image.\n   * It must be a number between `0` and `1`,\n   * and only available for `image/jpeg` and `image/webp` images.\n   * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.\n   * @type {number}\n   */\n  quality: 0.8,\n\n  /**\n   * The mime type of the output image.\n   * By default, the original mime type of the source image file will be used.\n   * @type {string}\n   */\n  mimeType: 'auto',\n\n  /**\n   * PNG files over this value (5M by default) will be converted to JPEGs.\n   * To disable this, just set the value to `Infinity`.\n   * Check out {@link https://github.com/xkeshi/image-compressor/issues/2 #2}.\n   * @type {number}\n   */\n  convertSize: 5000000,\n\n  /**\n   * The hook function to execute before draw the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) { context.fillStyle = '#fff' }\n   */\n  beforeDraw: null,\n\n  /**\n   * The hook function to execute after drew the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) { context.filter = grayscale(100%) }\n   */\n  drew: null,\n\n  /**\n   * The hook function to execute when success to compress the image.\n   * @type {Function}\n   * @param {File} file - The compressed image File object.\n   * @example\n   * function (file) { console.log(file) }\n   */\n  success: null,\n\n  /**\n   * The hook function to execute when fail to compress the image.\n   * @type {Function}\n   * @param {Error} err - An Error object.\n   * @example\n   * function (err) { console.log(err.message) }\n   */\n  error: null\n};\n\nvar REGEXP_IMAGE_TYPE = /^image\\/.+$/;\n\n/**\n * Check if the given value is a mime type of image.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.\n */\nfunction isImageType(value) {\n  return REGEXP_IMAGE_TYPE.test(value);\n}\n\n/**\n * Convert image type to extension.\n * @param {string} value - The image type to convert.\n * @param {boolean} [includeDot=true] - Include a leading dot or not.\n * @returns {boolean} Returns the image extension.\n */\nfunction imageTypeToExtension(value) {\n  var includeDot = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var extension = isImageType(value) ? value.substr(6) : '';\n\n  if (extension === 'jpeg') {\n    extension = 'jpg';\n  }\n\n  if (extension && includeDot) {\n    extension = '.' + extension;\n  }\n\n  return extension;\n}\n\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\n\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i = void 0;\n\n  length += start;\n\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n\n  return str;\n}\n\nvar _window = window;\nvar btoa = _window.btoa;\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\n\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var uint8 = new Uint8Array(arrayBuffer);\n  var length = uint8.length;\n\n  var data = '';\n  var i = void 0;\n\n  // TypedArray.prototype.forEach is not supported in some browsers.\n  for (i = 0; i < length; i += 1) {\n    data += fromCharCode(uint8[i]);\n  }\n\n  return 'data:' + mimeType + ';base64,' + btoa(data);\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction getOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation = void 0;\n  var littleEndian = void 0;\n  var app1Start = void 0;\n  var ifdStart = void 0;\n\n  // Only handle JPEG image (start by 0xFFD8)\n  if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n    var length = dataView.byteLength;\n    var offset = 2;\n\n    while (offset < length) {\n      if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n        app1Start = offset;\n        break;\n      }\n\n      offset += 1;\n    }\n  }\n\n  if (app1Start) {\n    var exifIDCode = app1Start + 4;\n    var tiffOffset = app1Start + 10;\n\n    if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n      var endianness = dataView.getUint16(tiffOffset);\n\n      littleEndian = endianness === 0x4949;\n\n      if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n    }\n  }\n\n  if (ifdStart) {\n    var _length = dataView.getUint16(ifdStart, littleEndian);\n    var _offset = void 0;\n    var i = void 0;\n\n    for (i = 0; i < _length; i += 1) {\n      _offset = ifdStart + i * 12 + 2;\n\n      if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n    }\n  }\n\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180°\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90°\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90°\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90°\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90°\n    case 8:\n      rotate = -90;\n      break;\n\n    default:\n  }\n\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/i;\n\n/**\n * Normalize decimal number.\n * Check out {@link http://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _window$1 = window;\nvar ArrayBuffer$1 = _window$1.ArrayBuffer;\nvar FileReader = _window$1.FileReader;\n\nvar URL = window.URL || window.webkitURL;\nvar REGEXP_EXTENSION = /\\.\\w+$/;\n\n/**\n * Creates a new image compressor.\n * @class\n */\n\nvar ImageCompressor = function () {\n  /**\n   * The constructor of ImageCompressor.\n   * @param {File|Blob} file - The target image file for compressing.\n   * @param {Object} [options] - The options for compressing.\n   */\n  function ImageCompressor(file, options) {\n    classCallCheck(this, ImageCompressor);\n\n    this.result = null;\n\n    if (file) {\n      this.compress(file, options);\n    }\n  }\n\n  /**\n   * The main compress method.\n   * @param {File|Blob} file - The target image file for compressing.\n   * @param {Object} [options] - The options for compressing.\n   * @returns {Promise} - A Promise instance.\n   */\n\n\n  createClass(ImageCompressor, [{\n    key: 'compress',\n    value: function compress(file, options) {\n      var _this = this;\n\n      var image = new Image();\n\n      options = _extends({}, DEFAULTS, options);\n\n      if (!ArrayBuffer$1) {\n        options.checkOrientation = false;\n      }\n\n      return new Promise(function (resolve, reject) {\n        if (!isBlob(file)) {\n          reject(new Error('The first argument must be a File or Blob object.'));\n          return;\n        }\n\n        var mimeType = file.type;\n\n        if (!isImageType(mimeType)) {\n          reject(new Error('The first argument must be an image File or Blob object.'));\n          return;\n        }\n\n        if (!URL && !FileReader) {\n          reject(new Error('The current browser does not support image compression.'));\n          return;\n        }\n\n        if (URL && !options.checkOrientation) {\n          resolve({\n            url: URL.createObjectURL(file)\n          });\n        } else if (FileReader) {\n          var reader = new FileReader();\n          var checkOrientation = options.checkOrientation && mimeType === 'image/jpeg';\n\n          reader.onload = function (_ref) {\n            var target = _ref.target;\n            var result = target.result;\n\n\n            resolve(checkOrientation ? _extends({\n              url: arrayBufferToDataURL(result, mimeType)\n            }, parseOrientation(getOrientation(result))) : {\n              url: result\n            });\n          };\n          reader.onabort = reject;\n          reader.onerror = reject;\n\n          if (checkOrientation) {\n            reader.readAsArrayBuffer(file);\n          } else {\n            reader.readAsDataURL(file);\n          }\n        }\n      }).then(function (data) {\n        return new Promise(function (resolve, reject) {\n          image.onload = function () {\n            return resolve(_extends({}, data, {\n              naturalWidth: image.naturalWidth,\n              naturalHeight: image.naturalHeight\n            }));\n          };\n          image.onabort = reject;\n          image.onerror = reject;\n          image.alt = file.name;\n          image.src = data.url;\n        });\n      }).then(function (_ref2) {\n        var naturalWidth = _ref2.naturalWidth,\n            naturalHeight = _ref2.naturalHeight,\n            _ref2$rotate = _ref2.rotate,\n            rotate = _ref2$rotate === undefined ? 0 : _ref2$rotate,\n            _ref2$scaleX = _ref2.scaleX,\n            scaleX = _ref2$scaleX === undefined ? 1 : _ref2$scaleX,\n            _ref2$scaleY = _ref2.scaleY,\n            scaleY = _ref2$scaleY === undefined ? 1 : _ref2$scaleY;\n        return new Promise(function (resolve) {\n          var canvas = document.createElement('canvas');\n          var context = canvas.getContext('2d');\n          var aspectRatio = naturalWidth / naturalHeight;\n          var maxWidth = Math.max(options.maxWidth, 0) || Infinity;\n          var maxHeight = Math.max(options.maxHeight, 0) || Infinity;\n          var minWidth = Math.max(options.minWidth, 0) || 0;\n          var minHeight = Math.max(options.minHeight, 0) || 0;\n          var width = naturalWidth;\n          var height = naturalHeight;\n\n          if (maxWidth < Infinity && maxHeight < Infinity) {\n            if (maxHeight * aspectRatio > maxWidth) {\n              maxHeight = maxWidth / aspectRatio;\n            } else {\n              maxWidth = maxHeight * aspectRatio;\n            }\n          } else if (maxWidth < Infinity) {\n            maxHeight = maxWidth / aspectRatio;\n          } else if (maxHeight < Infinity) {\n            maxWidth = maxHeight * aspectRatio;\n          }\n\n          if (minWidth > 0 && minHeight > 0) {\n            if (minHeight * aspectRatio > minWidth) {\n              minHeight = minWidth / aspectRatio;\n            } else {\n              minWidth = minHeight * aspectRatio;\n            }\n          } else if (minWidth > 0) {\n            minHeight = minWidth / aspectRatio;\n          } else if (minHeight > 0) {\n            minWidth = minHeight * aspectRatio;\n          }\n\n          if (options.width > 0) {\n            var _options = options;\n            width = _options.width;\n\n            height = width / aspectRatio;\n          } else if (options.height > 0) {\n            var _options2 = options;\n            height = _options2.height;\n\n            width = height * aspectRatio;\n          }\n\n          width = Math.min(Math.max(width, minWidth), maxWidth);\n          height = Math.min(Math.max(height, minHeight), maxHeight);\n\n          var destX = -width / 2;\n          var destY = -height / 2;\n          var destWidth = width;\n          var destHeight = height;\n\n          if (Math.abs(rotate) % 180 === 90) {\n            var _width$height = {\n              width: height,\n              height: width\n            };\n            width = _width$height.width;\n            height = _width$height.height;\n          }\n\n          canvas.width = normalizeDecimalNumber(width);\n          canvas.height = normalizeDecimalNumber(height);\n\n          if (!isImageType(options.mimeType)) {\n            options.mimeType = file.type;\n          }\n\n          var defaultFillStyle = 'transparent';\n\n          // Converts PNG files over the `convertSize` to JPEGs.\n          if (file.size > options.convertSize && options.mimeType === 'image/png') {\n            defaultFillStyle = '#fff';\n            options.mimeType = 'image/jpeg';\n          }\n\n          // Override the default fill color (#000, black)\n          context.fillStyle = defaultFillStyle;\n          context.fillRect(0, 0, width, height);\n          context.save();\n          context.translate(width / 2, height / 2);\n          context.rotate(rotate * Math.PI / 180);\n          context.scale(scaleX, scaleY);\n\n          if (options.beforeDraw) {\n            options.beforeDraw.call(_this, context, canvas);\n          }\n\n          context.drawImage(image, Math.floor(normalizeDecimalNumber(destX)), Math.floor(normalizeDecimalNumber(destY)), Math.floor(normalizeDecimalNumber(destWidth)), Math.floor(normalizeDecimalNumber(destHeight)));\n\n          if (options.drew) {\n            options.drew.call(_this, context, canvas);\n          }\n\n          context.restore();\n\n          var done = function done(result) {\n            resolve({\n              naturalWidth: naturalWidth,\n              naturalHeight: naturalHeight,\n              result: result\n            });\n          };\n\n          if (canvas.toBlob) {\n            canvas.toBlob(done, options.mimeType, options.quality);\n          } else {\n            done(canvasToBlob(canvas.toDataURL(options.mimeType, options.quality)));\n          }\n        });\n      }).then(function (_ref3) {\n        var naturalWidth = _ref3.naturalWidth,\n            naturalHeight = _ref3.naturalHeight,\n            result = _ref3.result;\n\n        if (URL && !options.checkOrientation) {\n          URL.revokeObjectURL(image.src);\n        }\n\n        if (result) {\n          // Returns original file if the result is greater than it and without size related options\n          if (result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight)) {\n            result = file;\n          } else {\n            var date = new Date();\n\n            result.lastModified = date.getTime();\n            result.lastModifiedDate = date;\n            result.name = file.name;\n\n            // Convert the extension to match its type\n            if (result.name && result.type !== file.type) {\n              result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));\n            }\n          }\n        } else {\n          // Returns original file if the result is null in some cases.\n          result = file;\n        }\n\n        _this.result = result;\n\n        if (options.success) {\n          options.success.call(_this, result);\n        }\n\n        return Promise.resolve(result);\n      }).catch(function (err) {\n        if (!options.error) {\n          throw err;\n        }\n\n        options.error.call(_this, err);\n      });\n    }\n  }]);\n  return ImageCompressor;\n}();\n\nexport default ImageCompressor;\n","module.exports = \".button-group {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 30px 0 0 0;\\n}\\n\\n.btn {\\n  margin: 0 10px;\\n}\\n\\n.icon {\\n  margin-right: 5px;\\n}\\n\\n.second-panel {\\n  margin-top: 30px;\\n}\\n\\n.column {\\n  margin: 5px 0;\\n}\"","module.exports = \"<ng-container *ngIf=\\\"schema && booking\\\">\\n  <ab-panel [schema]=\\\"schema.firstPanel\\\">\\n    <panel-body>\\n      <div *ngIf=\\\"booking\\\"\\n           class=\\\"columns\\\">\\n        <ng-container *ngFor=\\\"let field of schema.fields; let i = index\\\">\\n          <div class=\\\"column col-12 text-center\\\">\\n            <b class=\\\"text-bold\\\"> {{ field.label }}: </b>\\n            <ng-container [ngSwitch]=\\\"field.key\\\">\\n              <ab-pill *ngSwitchCase=\\\"'status'\\\"\\n                       [text]=\\\"booking[field.key]\\\"></ab-pill>\\n              <span *ngSwitchDefault>{{ booking[field.key] }}</span>\\n            </ng-container>\\n          </div>\\n        </ng-container>\\n      </div>\\n      <ng-container *ngIf=\\\"(booking.status === 'ACTIVE') || (booking.status !== 'ACTIVE' && !booking.rating)\\\">\\n        <div class=\\\"button-group\\\">\\n          <button *ngIf=\\\"booking.status === 'ACTIVE'\\\"\\n                  class=\\\"btn btn-primary\\\"\\n                  (click)=\\\"onShowEditModal()\\\">\\n            <i class=\\\"icon icon-edit\\\"></i>Editar reserva</button>\\n          <button *ngIf=\\\"booking.status === 'ACTIVE'\\\"\\n                  class=\\\"btn btn-primary\\\"\\n                  (click)=\\\"onShowCancelModal()\\\">\\n            <i class=\\\"icon icon-cross\\\"></i>Cancelar reserva</button>\\n          <button *ngIf=\\\"booking.status !== 'ACTIVE' && !booking.rating\\\"\\n                  class=\\\"btn btn-primary\\\"\\n                  (click)=\\\"onShowRateModal()\\\">\\n            <i class=\\\"icon icon-emoji\\\"></i>Valorar reserva</button>\\n        </div>\\n      </ng-container>\\n    </panel-body>\\n  </ab-panel>\\n  <div *ngIf=\\\"schema && booking.rating\\\"\\n       class=\\\"second-panel\\\">\\n    <ab-panel [schema]=\\\"schema.secondPanel\\\">\\n      <panel-body>\\n        <div class=\\\"column col-12 text-center\\\">\\n          <b class=\\\"text-bold\\\">Puntuación: </b>\\n          <span>{{ booking.rating.score }} sobre 5</span>\\n        </div>\\n        <div class=\\\"column col-12 text-center\\\">\\n          <b class=\\\"text-bold\\\">Comentarios: </b>\\n          <span>{{ booking.rating.comments }}</span>\\n        </div>\\n      </panel-body>\\n    </ab-panel>\\n  </div>\\n  <ab-modal title=\\\"Editar reserva\\\"\\n            [active]=\\\"showEditModal\\\"\\n            (close)=\\\"showEditModal = false\\\">\\n    <modal-content>\\n      <ab-form [formSchema]=\\\"schema.editForm\\\"\\n               (send)=\\\"onEdit($event)\\\">\\n      </ab-form>\\n    </modal-content>\\n  </ab-modal>\\n  <ab-modal title=\\\"Cancelar reserva\\\"\\n            [active]=\\\"showCancelModal\\\"\\n            (close)=\\\"showCancelModal = false\\\">\\n    <modal-content>\\n      <ab-card [data]=\\\"booking\\\"\\n               [schema]=\\\"cardSchema\\\">\\n      </ab-card>\\n    </modal-content>\\n    <modal-footer>\\n      <button (click)=\\\"showCancelModal = false\\\"\\n              class=\\\"btn btn-link\\\">Non, deixar</button>\\n      <button (click)=\\\"onDelete()\\\"\\n              class=\\\"btn btn-primary\\\">Si, cancelar</button>\\n    </modal-footer>\\n  </ab-modal>\\n  <ab-modal title=\\\"Valorar oferta\\\"\\n            [active]=\\\"showRateModal\\\"\\n            (close)=\\\"showRateModal = false\\\">\\n    <modal-content>\\n      <ab-form [formSchema]=\\\"schema.rateForm\\\"\\n               (send)=\\\"onRate($event)\\\">\\n      </ab-form>\\n    </modal-content>\\n  </ab-modal>\\n</ng-container>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { MeService } from 'app/views/me/me.service';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { BusService } from 'app/tools/bus.service';\nimport { Level } from 'app/tools/message.model';\n\n@Component({\n  selector: 'ab-booking',\n  templateUrl: './booking.component.html',\n  styleUrls: ['./booking.component.css']\n})\nexport class BookingComponent implements OnInit {\n  public schema;\n  public cardSchema;\n  public bookingId;\n  public booking;\n  public showEditModal = false;\n  public showCancelModal = false;\n  public showRateModal = false;\n\n  constructor(\n    private bus: BusService,\n    private route: ActivatedRoute,\n    private me: MeService,\n    private schemaService: SchemaService\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.bookingId = params['bookingId'];\n      this.schemaService.getSchema$('me_booking').subscribe(schema => {\n        this.schema = schema;\n        this.cardSchema = { header: { title: '' }, fields: this.schema.fields };\n        this.getBooking();\n      });\n    });\n  }\n\n  getBooking() {\n    this.me.getBooking(this.bookingId).subscribe(booking => {\n      this.booking = booking;\n      this.schema.firstPanel.header.title += (' para ' + this.booking.event.name);\n      this.schemaService.populateDefaultValues(this.schema.editForm, this.booking);\n    });\n  }\n\n  onShowEditModal() {\n    this.showEditModal = true;\n  }\n\n  onShowCancelModal() {\n    this.showCancelModal = true;\n  }\n\n  onShowRateModal() {\n    this.showRateModal = true;\n  }\n\n  onEdit(data) {\n    const bookingTemp = Object.assign({}, this.booking);\n    bookingTemp.comments = data.comments;\n    bookingTemp.seats = data.seats;\n    bookingTemp.eventId = this.booking.event._id;\n    delete bookingTemp.event;\n    this.me.editBooking(bookingTemp).subscribe(booking => {\n      this.getBooking();\n      this.showEditModal = false;\n      this.bus.emit({ level: Level.SUCCESS, text: 'Reserva editada con éxito', code: '' });\n    });\n  }\n\n  onDelete() {\n    const bookingTemp = Object.assign({}, this.booking);\n    bookingTemp.eventId = this.booking.event._id;\n    delete bookingTemp.event;\n    this.me.changeBookingStatus(bookingTemp, 'CANCELED').subscribe(() => {\n      this.getBooking();\n      this.showCancelModal = false;\n      this.bus.emit({ level: Level.SUCCESS, text: 'Reserva cancelada con éxito', code: '' });\n    });\n  }\n\n  onRate(payload) {\n    this.me.rateBooking(this.bookingId, payload).subscribe(booking => {\n      this.booking = booking;\n      this.showRateModal = false;\n      this.bus.emit({ level: Level.SUCCESS, text: 'Valoración enviada con éxito', code: '' });\n    });\n  }\n\n}\n","module.exports = \"<ng-container *ngIf=\\\"schema\\\">\\n  <ab-panel [schema]=\\\"{}\\\">\\n    <panel-body>\\n      <ab-editor [actionSchema]=\\\"schema.actions\\\"\\n                 [tableData]=\\\"bookings\\\"\\n                 [cardSchema]=\\\"cardSchema\\\"\\n                 [reportSchema]=\\\"schema.report\\\"\\n                 [filterSchema]=\\\"'bookings_filter'\\\"\\n                 [cardSchema]=\\\"schema.cardSchema\\\"\\n                 (filter)=\\\"onFilter($event)\\\">\\n      </ab-editor>\\n    </panel-body>\\n  </ab-panel>\\n</ng-container>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MeService } from 'app/views/me/me.service';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { FormToolsService } from 'app/tools/components/forms/form-tools.service';\nimport { BusService } from 'app/tools/bus.service';\nimport { Level } from 'app/tools/message.model';\n\n@Component({\n  selector: 'ab-bookings',\n  templateUrl: './bookings.component.html',\n  styles: []\n})\nexport class BookingsComponent implements OnInit {\n\n  public schema;\n  public cardSchema;\n  public bookings;\n  public eventId;\n\n  constructor(\n    private bus: BusService,\n    private route: ActivatedRoute,\n    private me: MeService,\n    private schemaService: SchemaService\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.eventId = params['eventId'];\n      this.schemaService.getSchema$('me_bookings').subscribe(schema => {\n        this.schema = schema;\n        this.cardSchema = { header: { title: '' }, fields: this.schema.report.fields };\n        this.getBookings();\n      });\n    });\n  }\n\n  onFilter(payload) {\n    this.getBookings(payload);\n  }\n\n  getBookings(payload?) {\n    this.me.getBookingsByUserId(payload)\n      .subscribe(bookings => {\n        this.bookings = bookings;\n      });\n  }\n\n}\n","module.exports = \"<ab-panel [schema]=\\\"{}\\\">\\n  <panel-body>\\n    <ab-editor [actionSchema]=\\\"schema?.actions\\\"\\n               [tableData]=\\\"bookings\\\"\\n               [cardSchema]=\\\"cardSchema\\\"\\n               [reportSchema]=\\\"schema?.report\\\"\\n               (rowAction)=\\\"onRowAction($event)\\\"\\n               [cardSchema]=\\\"schema?.cardSchema\\\"\\n               (delete)=\\\"onDelete($event)\\\">\\n    </ab-editor>\\n  </panel-body>\\n</ab-panel>\\n<ab-modal [title]=\\\"'Observacións sobre ' + selectedBooking.owner.name\\\"\\n          [active]=\\\"showObservationsModal\\\"\\n          (close)=\\\"showObservationsModal = false\\\"\\n          *ngIf=\\\"selectedBooking\\\">\\n  <modal-content>\\n    <p>{{ selectedBooking.observation }}</p>\\n  </modal-content>\\n</ab-modal>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { MeService } from 'app/views/me/me.service';\n\n@Component({\n  selector: 'ab-event-bookings',\n  templateUrl: './event-bookings.component.html',\n  styles: []\n})\nexport class EventBookingsComponent implements OnInit {\n\n  public schema;\n  public cardSchema;\n  public bookings;\n  public event;\n  public eventSlug;\n  public showObservationsModal = false;\n  public selectedBooking;\n\n  constructor(\n    private route: ActivatedRoute,\n    private me: MeService,\n    private schemaService: SchemaService\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.eventSlug = params['slug'];\n      this.schemaService.getSchema$('me_event_bookings').subscribe(schema => {\n        this.schema = schema;\n        this.cardSchema = { header: { title: '' }, fields: this.schema.report.fields };\n        this.getEvent();\n      });\n    });\n  }\n\n  getEvent() {\n    this.me.getEventBySlug(this.eventSlug).subscribe(event => {\n      this.event = event[0];\n      // this.schema.actions.actions[0].link = '/me/events-ushier/' + this.event.slug + '/bookings';\n      this.populateEventInfo();\n      this.getBookings();\n    });\n  };\n\n  getBookings() {\n    this.me.getBookingsByEventId(this.event._id).subscribe(bookings => {\n      this.bookings = bookings;\n    });\n  }\n\n  populateEventInfo() {\n    if (this.event.name && this.event.name.length > 0) {\n      this.schema.actions.header.title = this.schema.actions.header.title + ' - ' + this.event.name;\n    }\n    this.schema.actions.header.title +=\n      ' - ' + new Date(this.event.date).toLocaleString().split(' ')[0]\n      + ' ' + this.event.shift;\n  }\n\n  onRowAction(action) {\n    if (action.key === 'activate') {\n      this.me.changeBookingStatus(action.value, 'ACTIVE').subscribe(() => {\n        this.getBookings();\n      });\n    } else {\n      this.selectedBooking = action.value;\n      console.log(this.selectedBooking);\n      this.showObservationsModal = true;\n    }\n  }\n\n  onDelete(action) {\n    this.me.changeBookingStatus(action, 'CANCELED').subscribe(() => {\n      this.getBookings();\n    });\n  }\n\n}\n","module.exports = \".navbar {\\n  height: 60px;\\n  margin-bottom: 30px;\\n}\\n\\n.bookings {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.booking {\\n  display: flex;\\n  flex-direction: row;\\n}\\n\\n.booking p {\\n  margin: 0;\\n}\\n\"","module.exports = \"<header class=\\\"navbar\\\">\\n  <section class=\\\"navbar-section\\\">\\n    <a class=\\\"navbar-brand\\\"\\n       (click)=\\\"onNavigateToHome()\\\">{{ organization?.name }}</a>\\n  </section>\\n  <section class=\\\"navbar-section\\\">\\n    <div class=\\\"input-group input-inline\\\">\\n      <button class=\\\"btn btn-primary input-group-btn\\\"\\n              (click)=\\\"onPrint()\\\">Imprimir</button>\\n    </div>\\n  </section>\\n</header>\\n<ng-container *ngIf=\\\"event\\\">\\n  <h3>{{ event.name }}</h3>\\n  <h5>{{ event.date | date }} de {{ event.startTime }} a {{ event.endTime }}</h5>\\n  <div [innerHTML]=\\\"event.description\\\"></div>\\n  <ul>\\n    <li>Prazas ocupadas:\\n      <b>{{ event.capacity - event.freeSeats }} de {{ event.capacity }}</b>\\n    </li>\\n  </ul>\\n</ng-container>\\n<h3>Reservas</h3>\\n<div *ngIf=\\\"bookings && bookings.length; else: noBookings\\\"\\n     class=\\\"bookings\\\">\\n  <div *ngFor=\\\"let booking of bookings; let i = index\\\"\\n       class=\\\"booking\\\">\\n    <h5>{{ i + 1 }}. {{ booking.owner.name }} ({{ booking.owner.roles }}) - {{ booking.seats }} prazas</h5>\\n    <p *ngIf=\\\"booking.comments\\\">&nbsp;- {{ booking.comments }}</p>\\n  </div>\\n</div>\\n<ng-template #noBookings>\\n  <h2>Aínda non hai reservas para este evento</h2>\\n</ng-template>\\n\"","import { Component, OnInit, AfterViewInit, AfterViewChecked, Inject } from '@angular/core';\nimport { BusService } from '../../../tools/bus.service';\nimport { MeService } from '../me.service';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { SecurityService } from '../../../tools/security.service';\nimport { map } from 'rxjs/operators';\n\ndeclare var window: any;\n\n@Component({\n  selector: 'ab-event-print',\n  templateUrl: './event-print.component.html',\n  styleUrls: ['./event-print.component.css']\n})\nexport class EventPrintComponent implements OnInit {\n\n  public event: any;\n  public bookings: any;\n  public organization: any;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private busService: BusService,\n    private meService: MeService,\n    private securityService: SecurityService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.busService.emitIsPrintingMode(true);\n    this.getOrganization();\n    this.activatedRoute.params.subscribe((params: Params) => {\n      this.getEvent(params.id);\n      this.getBookings(params.id);\n    });\n  }\n\n  getOrganization() {\n    this.organization = this.securityService.getLocalOrganization();\n  }\n\n  getEvent(eventId: string) {\n    this.meService.getEventById(eventId).subscribe(\n      (event) => {\n        this.event = event;\n      }\n    )\n  }\n\n  getBookings(eventId) {\n    this.meService.getBookingsByEventId(eventId)\n      .pipe(\n        map((bookings: any) => {\n          return bookings.sort((a, b) => {\n            return a.name > b.name;\n          });\n        })\n      ).subscribe(\n        (bookings) => {\n          this.bookings = bookings;\n        }\n      )\n  }\n\n  onNavigateToHome() {\n    this.busService.emitIsPrintingMode(false);\n    this.router.navigateByUrl('');\n  }\n\n  onPrint() {\n    window.print();\n  }\n\n}\n","module.exports = \".second {\\n  margin-top: 30px;\\n}\\n\\n.card-column {\\n  padding: 0 0;\\n}\\n\\n.card {\\n  padding: 0 0;\\n  margin-bottom: 0.8rem;\\n}\\n\\n.card-header {\\n  display: flex;\\n}\\n\\n.status {\\n  margin: 0.5rem 0;\\n}\\n\\n.col-2 {\\n  -ms-grid-row-align: center;\\n      align-self: center;\\n}\\n\\n.col-10 {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: left;\\n  justify-content: space-around;\\n  margin-left: 0.5rem;\\n}\\n\\n.buttons-container {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-end;\\n}\\n\\nimg {\\n  width: 100%;\\n}\\n\\n.img-col {\\n  padding-left: 0 !important;\\n  padding-right: 0 !important;\\n}\\n\\n.delete-buttons-container {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-top: 1rem;\\n}\\n\\n.delete-button {\\n  margin-left: 0.5rem;\\n}\\n\\n@media(max-width: 600px) {\\n  .buttons-container {\\n    align-items: center !important;\\n    flex-direction: column !important;\\n  }\\n\\n  .ml-2 {\\n    margin-left: 0;\\n    margin-top: 0.4rem;\\n  }\\n\\n  .card-header {\\n    display: block;\\n  }\\n\\n  .col-10 {\\n    margin-left: 0;\\n    align-items: center;\\n  }\\n\\n  img {\\n    padding-bottom: 0.8rem;\\n  }\\n\\n  .text-left {\\n    margin-left: 0px;\\n  }\\n\\n  .status {\\n    margin: 0.5rem 0;\\n  }\\n}\\n\\n@media(max-width: 1280px) {\\n  .buttons-container {\\n    align-items: left;\\n    justify-content: center;\\n    flex-wrap: wrap;\\n  }\\n}\\n\"","module.exports = \"<div class=\\\"column col-12 card-column\\\"\\n     *ngIf=\\\"event\\\">\\n  <div class=\\\"card\\\">\\n    <div class=\\\"card-header\\\">\\n      <div class=\\\"column col-2 col-sm-12 img-col\\\">\\n        <img *ngIf=\\\"event?.thumbnail && event?.thumbnail.url\\\"\\n             [src]=\\\"event?.thumbnail.url\\\"\\n             class=\\\"img-responsive\\\"\\n             (click)=\\\"onShowThumbnailModal()\\\">\\n        <img *ngIf=\\\"!event?.thumbnail || !event?.thumbnail.url\\\"\\n             src=\\\"assets/images/events-placeholder.jpg\\\"\\n             class=\\\"img-responsive\\\"\\n             (click)=\\\"onShowThumbnailModal()\\\">\\n      </div>\\n      <div class=\\\"column col-10 col-sm-12\\\">\\n        <div class=\\\"card-title h2 text-left\\\">{{ event?.name }}</div>\\n        <div class=\\\"status\\\">\\n          <ab-pill [text]=\\\"event?.status\\\"></ab-pill>\\n        </div>\\n        <div class=\\\"buttons-container\\\">\\n          <a class=\\\"btn btn-link\\\"\\n             [ngClass]=\\\"{'disabled': event.status === 'CANCELED'}\\\"\\n             [routerLink]=\\\"['/org', organization.slug, 'events', event._id]\\\">\\n            Ver oferta</a>\\n          <button class=\\\"btn btn-link badge\\\"\\n                  [ngClass]=\\\"{'disabled': event.status === 'CANCELED'}\\\"\\n                  [attr.data-badge]=\\\"event.files ? event.files.length : 0\\\"\\n                  (click)=\\\"onScrollToFiles()\\\">\\n            <i class=\\\"icon icon-link mr-1\\\"></i>Arquivos</button>\\n          <div *ngFor=\\\"let action of editActionsSchema\\\"\\n               class=\\\"ml-2\\\">\\n            <ab-action *ngIf=\\\"!action.disabled\\\"\\n                       [schema]=\\\"action\\\"\\n                       (action)=\\\"onEditAction(action.key)\\\"></ab-action>\\n          </div>\\n          <a class=\\\"btn ml-2\\\"\\n             [routerLink]=\\\"['print']\\\"\\n             target=\\\"_blank\\\">\\n            <i class=\\\"icon icon-share mr-1\\\"></i>Imprimir</a>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<ab-panel [schema]=\\\"panelSchema\\\">\\n  <panel-body>\\n    <ab-form [formSchema]=\\\"formSchema\\\"\\n             (send)=\\\"onSend($event)\\\">\\n    </ab-form>\\n  </panel-body>\\n</ab-panel>\\n<ab-modal title=\\\"Miniatura da oferta\\\"\\n          [active]=\\\"showThumbnailModal\\\"\\n          (close)=\\\"this.showThumbnailModal = false;\\\">\\n  <modal-content>\\n    <input #thumbnailInput\\n           type=\\\"file\\\"\\n           accept=\\\".jpg, .jpeg, .png\\\"\\n           multiple=\\\"false\\\">\\n  </modal-content>\\n  <modal-footer>\\n    <ab-action [schema]=\\\"fileConfirmButton\\\"\\n               (action)=\\\"uploadThumbnail(this.event)\\\">\\n    </ab-action>\\n  </modal-footer>\\n</ab-modal>\\n<div class=\\\"second\\\"\\n     #filesSectionRef\\n     *ngIf=\\\"formKey === 'edit'\\\">\\n  <ab-panel [schema]=\\\"{}\\\">\\n    <panel-body>\\n      <ab-tile [schema]=\\\"filesSchema\\\"\\n               (send)=\\\"this.showFilesModal = true;\\\">\\n      </ab-tile>\\n      <ng-container *ngIf=\\\"formKey === 'edit' && event?.files\\\">\\n        <ab-tile-compact *ngFor=\\\"let file of event.files\\\"\\n                         [image]=\\\"file\\\"\\n                         (clicked)=\\\"onDeleteFile(file)\\\">\\n        </ab-tile-compact>\\n      </ng-container>\\n    </panel-body>\\n  </ab-panel>\\n  <ab-modal title=\\\"Subir arquivos\\\"\\n            [active]=\\\"showFilesModal\\\"\\n            (close)=\\\"this.showFilesModal = false;\\\">\\n    <modal-content>\\n      <input #filesInput\\n             type=\\\"file\\\"\\n             multiple=\\\"true\\\">\\n    </modal-content>\\n    <modal-footer>\\n      <ab-action [schema]=\\\"fileConfirmButton\\\"\\n                 (action)=\\\"uploadFiles(this.event)\\\">\\n      </ab-action>\\n    </modal-footer>\\n  </ab-modal>\\n</div>\\n<ab-modal [title]=\\\"'Modificar oferta'\\\"\\n          [active]=\\\"isDeletingMode\\\"\\n          (close)=\\\"onCloseDeleteModal()\\\">\\n  <modal-content>\\n    <div class=\\\"form-container\\\"\\n         *ngIf=\\\"isDeletingMode\\\"\\n         (submit)=\\\"onSubmitDeleteForm()\\\">\\n      <form [formGroup]=\\\"deleteForm\\\">\\n        <div class=\\\"form-group\\\">\\n          <label class=\\\"form-switch\\\">\\n            <input type=\\\"checkbox\\\"\\n                   formControlName=\\\"sendMessage\\\">\\n            <i class=\\\"form-icon\\\"></i> Enviar mensaxe de cancelación aos asistentes\\n          </label>\\n        </div>\\n        <div class=\\\"form-group\\\"\\n             *ngIf=\\\"deleteForm.get('sendMessage').value\\\">\\n          <label class=\\\"form-switch\\\">\\n            <input type=\\\"checkbox\\\"\\n                   formControlName=\\\"sendCustomMessage\\\">\\n            <i class=\\\"form-icon\\\"></i> Personalizar a mensaxe de cancelación\\n          </label>\\n        </div>\\n        <div class=\\\"form-group\\\"\\n             *ngIf=\\\"deleteForm.get('sendMessage').value && deleteForm.get('sendCustomMessage').value\\\">\\n          <label class=\\\"form-label\\\"\\n                 for=\\\"input-example-3\\\">Mensaxe</label>\\n          <textarea class=\\\"form-input\\\"\\n                    formControlName=\\\"customMessage\\\"\\n                    placeholder=\\\"Mensaxe personalizada\\\"\\n                    rows=\\\"3\\\"></textarea>\\n        </div>\\n        <div class=\\\"form-group delete-buttons-container\\\">\\n          <button class=\\\"btn\\\"\\n                  (click)=\\\"onReturnFromDeletingMode()\\\">Volver atrás</button>\\n          <button class=\\\"btn btn-primary delete-button\\\"\\n                  type=\\\"submit\\\"\\n                  [disabled]=\\\"!deleteForm.valid\\\">Eliminar oferta</button>\\n        </div>\\n      </form>\\n    </div>\\n  </modal-content>\\n</ab-modal>\\n\"","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { MeService } from 'app/views/me/me.service';\nimport { SecurityService } from 'app/tools/security.service';\nimport { BusService } from 'app/tools/bus.service';\nimport { IFormSchema, IWidgetSchema, IAction } from 'app/tools/schema.model';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Level } from 'app/tools/message.model';\nimport ImageCompressor from 'image-compressor.js';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'ab-event',\n  templateUrl: './event.component.html',\n  styleUrls: ['./event.component.css']\n})\nexport class EventComponent implements OnInit {\n\n  @ViewChild('thumbnailInput') thumbnailInput: ElementRef;\n  @ViewChild('filesInput') filesInput: ElementRef;\n  @ViewChild('filesSectionRef') filesSectionRef: ElementRef;\n\n  public formKey: 'create' | 'edit' = 'create';\n  public panelSchema: IWidgetSchema;\n  public filesSchema: IWidgetSchema;\n  public editActionsSchema: IWidgetSchema;\n  public thumbnailSchema: IWidgetSchema;\n  public formSchema: IFormSchema;\n  public showFilesModal = false;\n  public showThumbnailModal = false;\n  public fileConfirmButton = {\n    label: 'Subir',\n    key: 'upload'\n  };\n  public organization: any;\n  public event: any;\n  public isDeletingMode;\n  public deleteForm: FormGroup;\n\n  constructor(\n    private schema: SchemaService,\n    private route: ActivatedRoute,\n    private me: MeService,\n    private security: SecurityService,\n    private bus: BusService,\n    private router: Router,\n    private fb: FormBuilder,\n    private sanitizer: DomSanitizer\n  ) { }\n\n  ngOnInit() {\n    this.createDeleteForm();\n    this.organization = this.security.getLocalOrganization();\n    this.route.params.subscribe(params => {\n      if (params['id']) {\n        this.formKey = 'edit';\n        this.me.getEventById(params['id']).subscribe((ev: any) => {\n          this.event = ev;\n          if (ev.thumbnail) {\n            const url = `data:${ev.thumbnail.type};base64, ${ev.thumbnail.content}`;\n\n            ev.thumbnail.url = this.sanitizer.bypassSecurityTrustUrl(url);\n          }\n          this.getSchemas();\n        });\n      } else {\n        this.getSchemas();\n      }\n    });\n  }\n\n  getSchemas() {\n    this.schema\n      .getSchema$('me_event')\n      .subscribe(schemas => {\n        this.panelSchema = schemas;\n        this.filesSchema = schemas['tile-files'];\n        this.thumbnailSchema = schemas['tile-thumbnail'];\n        if (this.event) {\n          this.editActionsSchema = this.calcButtons(schemas.editActions);\n        }\n        this.formSchema = schemas[this.formKey];\n        if (this.event) {\n          this.panelSchema.header.title = 'Información da oferta';\n          this.schema.populateDefaultValues(this.formSchema, this.event);\n          this.formSchema.controls[0].defaultValue = new Date(this.event.date).toISOString().slice(0, 10);\n        } else {\n          this.schema.populateDefaultValues(this.formSchema, this.organization);\n          this.formSchema.controls[0].defaultValue = 'dd/mm/aaaa';\n          this.formSchema.controls[4].defaultValue = 'hh:mm';\n          this.formSchema.controls[5].defaultValue = 'hh:mm';\n        }\n      });\n  }\n\n  calcButtons(editActions: IAction[]): any {\n    editActions.map(action => {\n      if (this.event.status === 'CANCELED') {\n        action.disabled = true;\n      } else {\n        if (this.event.status === action.disabledStatus) {\n          action.disabled = true;\n        } else {\n        }\n      }\n    });\n    return editActions;\n  }\n\n  createDeleteForm() {\n    this.deleteForm = this.fb.group({\n      sendMessage: [false, Validators.required],\n      sendCustomMessage: [false, Validators.required],\n      customMessage: ['']\n    });\n  }\n\n  onSend(ev) {\n    const data = Object.assign({}, ev);\n\n    this.transformDate(data);\n    if (this.formKey === 'create') {\n      this.me.postEvent(data).subscribe((event: any) => {\n        this.bus.emit({ level: Level.SUCCESS, text: 'Oferta creada con éxito', code: '' });\n        this.event = event;\n        this.formKey = 'edit';\n        this.ngOnInit();\n      });\n    }\n    if (this.formKey === 'edit') {\n      this.updateEvent(data);\n      this.me.editEvent(this.event).subscribe(d => {\n        data.ownerId = this.event.ownerId;\n        this.ngOnInit();\n        this.bus.emit({ level: Level.SUCCESS, text: 'Oferta editada con éxito', code: '' });\n      });\n    }\n  }\n\n  updateEvent(data) {\n    Object.keys(data).map(key => {\n      this.event[key] = data[key];\n    });\n  }\n\n  uploadThumbnail(event) {\n    const thumbnail: File = this.thumbnailInput.nativeElement.files[0];\n    const reader: FileReader = new FileReader();\n\n    if (!thumbnail) {\n      return this.showThumbnailModal = false;\n    }\n\n    // tslint:disable-next-line:no-unused-expression\n    new ImageCompressor(thumbnail,\n      {\n        quality: 0.6,\n        success: (compressedFile: File) => {\n          reader.onload = (ev: any) => {\n            this.me.uploadThumbnail(event._id, btoa(ev.target.result), compressedFile.type)\n              .subscribe((updatedEvent: any) => {\n                this.thumbnailInput.nativeElement.value = '';\n                this.showThumbnailModal = false;\n                this.event = updatedEvent;\n                this.ngOnInit();\n              });\n          }\n          reader.readAsBinaryString(compressedFile);\n        }\n      });\n\n  }\n\n  onShowThumbnailModal() {\n    if (this.event.status !== 'CANCELED') {\n      this.showThumbnailModal = true;\n    }\n  }\n\n  uploadFiles(ev) {\n    const filesData: FormData = this.getFilesToUpload();\n\n    this.me.postEventFiles(ev._id, filesData).subscribe(d => {\n      this.filesInput.nativeElement.value = '';\n      if (this.formKey === 'edit') {\n        this.me.getEventById(this.event._id).subscribe(event => {\n          this.event = event;\n          this.showFilesModal = false;\n        });\n      }\n    });\n  }\n\n  onDeleteFile(file) {\n    this.me.removeEventFile(this.event._id, file.name).subscribe(event => {\n      this.event = event;\n    });\n  }\n\n  getFilesToUpload() {\n    let filesToUpload: Array<File> = [];\n    const domFiles = this.filesInput.nativeElement.files;\n    const formData: FormData = new FormData();\n\n    filesToUpload = <Array<File>>domFiles;\n\n    for (let i = 0; i < domFiles.length; i++) {\n      formData.append('files', filesToUpload[i], filesToUpload[i]['name']);\n    }\n\n    return formData;\n  }\n\n  transformDate(event) {\n    const dateArr = event.date.split('-');\n    const year = dateArr[0];\n    const month = dateArr[1] - 1;\n    const day = dateArr[2];\n    let hour = 12;\n    event.date = new Date(year, month, day, hour, 0, 0, 0);\n    if (event.shift === 'Diurno') {\n      hour = 14;\n    } else {\n      hour = 21;\n    }\n    event['time'] = new Date(year, month, day, hour, 0, 0, 0);\n  }\n\n  onCloseDeleteModal() {\n    this.isDeletingMode = false;\n  }\n\n  onEditAction(key) {\n    switch (key) {\n      case 'activate':\n        this.me.changeEventStatus(this.event, 'ACTIVE').subscribe(() => {\n          this.ngOnInit();\n        });\n        break;\n      case 'delete':\n        this.isDeletingMode = true;\n        break;\n      case 'deactivate':\n        this.me.changeEventStatus(this.event, 'DISABLED').subscribe(() => {\n          this.ngOnInit();\n        });\n        break;\n    }\n  }\n\n  onReturnFromDeletingMode() {\n    this.isDeletingMode = false;\n  }\n\n  onSubmitDeleteForm() {\n    const sendMessage = this.deleteForm.get('sendMessage').value;\n    const sendCustomMessage = this.deleteForm.get('sendCustomMessage').value;\n    const customMessage = this.deleteForm.get('customMessage').value;\n\n    if (!sendCustomMessage) {\n      this.me.cancelEvent(this.event, sendMessage, undefined).subscribe(() => {\n        this.ngOnInit();\n      });\n    }\n\n    if (sendCustomMessage && customMessage) {\n      this.me.cancelEvent(this.event, sendMessage, customMessage).subscribe(() => {\n        this.ngOnInit();\n      });\n    }\n\n    this.isDeletingMode = false;\n  }\n\n  onScrollToFiles(el: ElementRef) {\n    this.filesSectionRef.nativeElement.scrollIntoView({ behavior: 'smooth' });\n  }\n\n}\n","module.exports = \".form-group {\\n  width: 50%;\\n  margin: 1rem auto;\\n}\\n\\n.second-panel {\\n  margin-top: 30px;\\n}\\n\\n.observation-input {\\n  width: 100%;\\n  margin: 0;\\n}\\n\"","module.exports = \"<ab-panel [schema]=\\\"{}\\\">\\n  <panel-body>\\n    <ab-tile [schema]=\\\"actionSchema\\\"></ab-tile>\\n    <form [formGroup]=\\\"selectForm\\\">\\n      <div class=\\\"form-group\\\">\\n        <label class=\\\"form-label\\\"\\n               for=\\\"input-example-1\\\">Selecciona un evento para ver sus reservas</label>\\n        <select class=\\\"form-select\\\"\\n                formControlName=\\\"event\\\">\\n          <option value=\\\"\\\"\\n                  hidden>-- NINGUNO --</option>\\n          <option *ngFor=\\\"let event of events\\\"\\n                  [value]=\\\"event._id\\\">{{ event.name }} - {{ event.date | date }}</option>\\n        </select>\\n      </div>\\n    </form>\\n  </panel-body>\\n</ab-panel>\\n<div class=\\\"second-panel\\\">\\n  <ab-panel [schema]=\\\"{}\\\"\\n            *ngIf=\\\"bookings !== undefined\\\">\\n    <panel-body>\\n      <ab-editor [actionSchema]=\\\"{header: {title: editorTitle, subtitle: 'Lista de reservas do evento'}}\\\"\\n                 [tableData]=\\\"bookings\\\"\\n                 [cardSchema]=\\\"{}\\\"\\n                 [reportSchema]=\\\"reportSchema\\\"\\n                 (rowAction)=\\\"onRowAction($event)\\\"\\n                 [cardSchema]=\\\"schema?.cardSchema\\\">\\n      </ab-editor>\\n    </panel-body>\\n  </ab-panel>\\n</div>\\n<form [formGroup]=\\\"observationForm\\\"\\n      (submit)=\\\"onAddComment()\\\">\\n  <ab-modal [title]=\\\"'Observacións sobre ' + selectedBooking.owner.name\\\"\\n            [active]=\\\"showCommentsModal\\\"\\n            (close)=\\\"showCommentsModal = false\\\"\\n            *ngIf=\\\"selectedBooking\\\">\\n    <modal-content>\\n      <div class=\\\"form-group observation-input\\\">\\n        <label class=\\\"form-label\\\">Observacións</label>\\n        <textarea class=\\\"form-input\\\"\\n                  formControlName=\\\"observation\\\"\\n                  placeholder=\\\"Observacións\\\"\\n                  rows=\\\"3\\\"></textarea>\\n      </div>\\n    </modal-content>\\n    <modal-footer>\\n      <button type=\\\"submit\\\"\\n              class=\\\"btn btn-primary\\\"\\n              [disabled]=\\\"observationForm.invalid\\\">Gardar observacións</button>\\n    </modal-footer>\\n  </ab-modal>\\n</form>\\n\"","import { Component, OnInit, SimpleChanges } from '@angular/core';\nimport { IWidgetSchema, IReportSchema } from 'app/tools/schema.model';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { MeService } from 'app/views/me/me.service';\nimport { SecurityService } from 'app/tools/security.service';\nimport { Router } from '@angular/router';\nimport { BusService } from 'app/tools/bus.service';\nimport { OrganizationService } from 'app/views/organization/organization.service';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Level } from '../../../tools/message.model';\n\n@Component({\n  selector: 'ab-events-ushier',\n  templateUrl: './events-ushier.component.html',\n  styleUrls: ['./events-ushier.component.css']\n})\nexport class EventsUshierComponent implements OnInit {\n\n  public selectedEventId: string;\n  public selectedBooking;\n  public selectForm: FormGroup;\n  public events: any[];\n  public bookings: any[];\n  public panelSchema: IWidgetSchema = {};\n  public actionSchema: IWidgetSchema;\n  public reportSchema: any;\n  public organization;\n  public editorTitle = '';\n  public showCommentsModal = false;\n  public observationForm: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private schema: SchemaService,\n    private orgService: OrganizationService,\n    private router: Router,\n    private me: MeService,\n    private security: SecurityService,\n    private bus: BusService\n  ) { }\n\n  ngOnInit() {\n    this.getSchema();\n    this.createForm();\n  }\n\n  getSchema() {\n    this.schema\n      .getSchema$('me_events_ushier')\n      .subscribe(schemas => {\n        this.actionSchema = schemas.actions;\n        this.reportSchema = schemas.report;\n        this.getEvents();\n      });\n  }\n\n  createForm() {\n    this.selectForm = this.fb.group({\n      event: ['']\n    });\n    this.observationForm = this.fb.group({\n      observation: ['', Validators.required]\n    });\n    this.onChanges();\n  }\n\n  onChanges() {\n    this.selectForm.get('event').valueChanges.subscribe(\n      (eventId: string) => {\n        this.getBookings(eventId);\n        this.selectedEventId = eventId;\n        this.editorTitle = this.events.filter(event => event._id === eventId)[0].name;\n      }\n    )\n  }\n\n  getEvents() {\n    this.organization = this.security.getLocalOrganization();\n\n    const startDate = new Date();\n    const endingDate = new Date();\n\n    startDate.setDate(startDate.getDate() - 2);\n    endingDate.setDate(endingDate.getDate() + 2);\n\n    const payload = {\n      organizationId: this.organization._id,\n      status: 'active',\n      startDate: startDate.toISOString().split('T')[0],\n      endingDate: endingDate.toISOString().split('T')[0]\n    };\n\n    this.me.filterEvents(payload)\n      .subscribe((events: any) => {\n        this.events = events;\n      });\n  }\n\n  getBookings(eventId) {\n    this.me.getBookingsByEventIdAndNotStatus(eventId, 'CANCELED').subscribe(\n      (bookings: any) => {\n        this.bookings = bookings;\n      });\n  }\n\n  onRowAction(action) {\n    const status = action.key.toUpperCase();\n\n    if (action.key === 'comments') {\n      this.selectedBooking = action.value;\n      this.observation.setValue(this.selectedBooking.observation);\n      this.showCommentsModal = true;\n    } else {\n      this.me.changeBookingStatus(action.value, status).subscribe((booking: any) => {\n        this.getBookings(this.selectedEventId);\n      });\n    }\n  }\n\n  onAddComment() {\n    this.selectedBooking.observation = this.observation.value;\n    this.me.updateBooking(this.selectedBooking).subscribe(\n      (res: any) => {\n        this.bus.emit({ level: Level.SUCCESS, text: 'Observacións gardadas con éxito', code: '' });\n        this.selectedBooking = res;\n        this.showCommentsModal = false;\n      }\n    )\n  }\n\n  get observation() {\n    return this.observationForm.get('observation');\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<ab-panel [schema]=\\\"panelSchema\\\">\\n  <panel-body>\\n    <ab-editor [actionSchema]=\\\"actionSchema\\\"\\n               [tableData]=\\\"events\\\"\\n               [reportSchema]=\\\"reportSchema\\\"\\n               [createFormSchema]=\\\"\\\"\\n               [cardSchema]=\\\"cardSchema\\\"\\n               [filterSchema]=\\\"'events_filter'\\\"\\n               (filter)=\\\"onFilter($event)\\\"\\n               (rowAction)=\\\"onRowAction($event)\\\"\\n               (delete)=\\\"onDelete($event)\\\">\\n    </ab-editor>\\n  </panel-body>\\n</ab-panel>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { IWidgetSchema, IFormSchema, IReportSchema, IAction } from 'app/tools/schema.model';\nimport { BusService } from 'app/tools/bus.service';\nimport { MeService } from 'app/views/me/me.service';\nimport { SecurityService } from 'app/tools/security.service';\nimport { IUser } from 'app/tools/user.model';\nimport { IOrganization } from 'app/tools/organization.model';\nimport { Level } from 'app/tools/message.model';\nimport { Router } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'ab-events',\n  templateUrl: './events.component.html',\n  styleUrls: ['./events.component.css']\n})\nexport class EventsComponent implements OnInit {\n\n  private organization: IOrganization;\n  public selectedEvent;\n  public events: any[];\n  public filters;\n  public panelSchema: IWidgetSchema = {};\n  public actionSchema: IWidgetSchema;\n  public reportSchema: IReportSchema;\n  public cardSchema: IWidgetSchema;\n\n  constructor(private schema: SchemaService,\n    private me: MeService,\n    private router: Router,\n    private security: SecurityService,\n    private bus: BusService,\n    private fb: FormBuilder) { }\n\n  ngOnInit() {\n    this.getSchema();\n  }\n\n  getSchema() {\n    this.schema\n      .getSchema$('me_events')\n      .subscribe(schemas => {\n        this.actionSchema = schemas.actions;\n        this.reportSchema = schemas.report;\n        this.cardSchema = { header: { title: '' }, fields: this.reportSchema.fields };\n      });\n    this.getOrganization();\n  }\n\n  getOrganization() {\n    this.organization = this.security.getLocalOrganization();\n  }\n\n  onFilter(payload?) {\n    let params;\n\n    if (!payload) {\n      params = this.filters;\n    } else {\n      params = payload;\n      this.filters = payload;\n    }\n\n    this.me.filterEvents(params)\n      .pipe(\n        map((events: any) => {\n          if (events) {\n            events.map(event => {\n              event.free = event.capacity - event.pax;\n              event.time = `De ${event.startTime} a ${event.endTime}`;\n              return event;\n            })\n          }\n          return events\n        })\n      )\n      .subscribe((events: any[]) => {\n        this.events = events;\n      });\n  }\n\n  onRowAction(action) {\n    const event = Object.assign({}, action.value);\n\n    this.selectedEvent = event;\n\n    switch (action.key) {\n      case 'edit':\n        this.router.navigateByUrl(`me/events/${this.selectedEvent._id}`);\n        break;\n    }\n  }\n\n  onDelete(event) {\n    this.me.deleteEvent(event._id).subscribe(\n      () => {\n        this.onFilter();\n      }\n    )\n  }\n\n}\n","import { NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MeComponent } from './me/me.component';\nimport { ComponentsModule } from 'app/tools/components/components.module';\nimport { MeRoutingModule } from 'app/views/me/me.routing';\nimport { MeService } from 'app/views/me/me.service';\nimport { UsersComponent } from 'app/views/me/users/users.component';\nimport { OrganizationsComponent } from 'app/views/me/organizations/organizations.component';\nimport { OrganizationComponent } from './organization/organization.component';\nimport { EventsComponent } from './events/events.component';\nimport { EventBookingsComponent } from './event-bookings/event-bookings.component';\nimport { BookingsComponent } from './bookings/bookings.component';\nimport { EventComponent } from './event/event.component';\nimport { EventsUshierComponent } from './events-ushier/events-ushier.component';\nimport { OrganizationService } from 'app/views/organization/organization.service';\nimport { BookingComponent } from './booking/booking.component';\nimport { EventPrintComponent } from './event-print/event-print.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MeRoutingModule,\n    ComponentsModule\n  ],\n  // tslint:disable-next-line:max-line-length\n  declarations: [MeComponent, UsersComponent, OrganizationsComponent, OrganizationComponent, EventsComponent, EventBookingsComponent, BookingsComponent, EventComponent, EventsUshierComponent, BookingComponent, EventPrintComponent],\n  providers: [MeService, OrganizationService],\n  schemas: [NO_ERRORS_SCHEMA]\n})\nexport class MeModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MeComponent } from 'app/views/me/me/me.component';\nimport { UsersComponent } from 'app/views/me/users/users.component';\nimport { OrganizationsComponent } from 'app/views/me/organizations/organizations.component';\nimport { OrganizationComponent } from 'app/views/me/organization/organization.component';\nimport { EventsComponent } from 'app/views/me/events/events.component';\nimport { EventBookingsComponent } from 'app/views/me/event-bookings/event-bookings.component';\nimport { BookingsComponent } from 'app/views/me/bookings/bookings.component';\nimport { EventComponent } from 'app/views/me/event/event.component';\nimport { EventsUshierComponent } from 'app/views/me/events-ushier/events-ushier.component';\nimport { BookingComponent } from 'app/views/me/booking/booking.component';\nimport { EventPrintComponent } from './event-print/event-print.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MeComponent,\n    data: { name: 'me', title: 'O meu perfil' }\n  },\n  {\n    path: 'confirm/:userId',\n    redirectTo: '/login/confirm/:userId',\n    data: { name: 'me_confirm', title: 'Confirmar' }\n  },\n  {\n    path: 'events',\n    component: EventsComponent,\n    data: { name: 'me_events', title: 'Ofertas' }\n  },\n  {\n    path: 'bookings',\n    component: BookingsComponent,\n    data: { name: 'me_bookings', title: 'Reservas' }\n  },\n  {\n    path: 'bookings/:bookingId',\n    component: BookingComponent,\n    data: { name: 'me_booking', title: 'Reserva' }\n  },\n  {\n    path: 'events/new',\n    component: EventComponent,\n    data: { name: 'me_events_new', title: 'Nova oferta' }\n  },\n  {\n    path: 'events/:id',\n    component: EventComponent,\n    data: { name: 'me_events_edit', title: 'Editar oferta' }\n  },\n  {\n    path: 'events/:id/print',\n    component: EventPrintComponent,\n    data: { name: 'me_event_bookings', title: 'Reservas' }\n  },\n  {\n    path: 'events/:slug/bookings',\n    component: EventBookingsComponent,\n    data: { name: 'me_event_bookings', title: 'Reservas' }\n  },\n  {\n    path: 'events-ushier',\n    component: EventsUshierComponent,\n    data: { name: 'me_events_ushier', title: 'Asistencia' }\n  },\n  {\n    path: 'organizations',\n    component: OrganizationsComponent,\n    data: { name: 'me_organizations', title: 'Centros' }\n  },\n  {\n    path: 'organization',\n    component: OrganizationComponent,\n    data: { name: 'me_organization', title: 'O meu centro' }\n  },\n  {\n    path: 'users',\n    component: UsersComponent,\n    data: { name: 'me_users', title: 'Usuarios' }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MeRoutingModule { }\n","module.exports = \"<ab-dashboard [schemas]=\\\"widgetsSchema\\\"\\n              (send)=\\\"onSend($event)\\\">\\n</ab-dashboard>\\n<aside *ngIf=\\\"schemas\\\">\\n  <ab-modal [title]=\\\"user?.name\\\"\\n            [active]=\\\"logOutActive\\\"\\n            (close)=\\\"logOutActive=false\\\">\\n    <modal-content>\\n      <ab-card [data]=\\\"user\\\"\\n               [schema]=\\\"schemas?.card\\\">\\n      </ab-card>\\n    </modal-content>\\n    <modal-footer>\\n      <ab-action [schema]=\\\"{label:'Quedar'}\\\"\\n                 btnClass=\\\"btn-link\\\"\\n                 (action)=\\\"logOutActive=false\\\"></ab-action>\\n      <ab-action [schema]=\\\"{label:'Saír'}\\\"\\n                 (action)=\\\"onLogOutClick()\\\"></ab-action>\\n    </modal-footer>\\n  </ab-modal>\\n</aside>\\n<aside>\\n  <ab-modal [title]=\\\"schemas?.changePassword.title\\\"\\n            [active]=\\\"changePasswordActive\\\"\\n            (close)=\\\"changePasswordActive=false\\\">\\n    <modal-content>\\n      <ab-form [formSchema]=\\\"schemas?.changePassword\\\"\\n               (send)=\\\"onChangePasswordClick($event)\\\">\\n      </ab-form>\\n    </modal-content>\\n    <modal-footer>\\n      <ab-action [schema]=\\\"{label:'Non cambiar'}\\\"\\n                 btnClass=\\\"btn-link\\\"\\n                 (action)=\\\"changePasswordActive=false\\\"></ab-action>\\n    </modal-footer>\\n  </ab-modal>\\n</aside>\\n<aside>\\n  <ab-modal [title]=\\\"schemas?.editProfile.title\\\"\\n            [active]=\\\"editProfileActive\\\"\\n            (close)=\\\"editProfileActive=false\\\">\\n    <modal-content>\\n      <ab-form [formSchema]=\\\"editProfile\\\"\\n               (send)=\\\"onEditProfileClick($event)\\\">\\n      </ab-form>\\n    </modal-content>\\n    <modal-footer>\\n      <ab-action [schema]=\\\"{label:'Non cambiar'}\\\"\\n                 btnClass=\\\"btn-link\\\"\\n                 (action)=\\\"editProfileActive=false\\\"></ab-action>\\n    </modal-footer>\\n  </ab-modal>\\n</aside>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { IUser } from 'app/tools/user.model';\nimport { SecurityService } from 'app/tools/security.service';\nimport { IWidgetSchema } from 'app/tools/schema.model';\nimport { BusService } from 'app/tools/bus.service';\nimport { MeService } from 'app/views/me/me.service';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { IOrganization } from 'app/tools/organization.model';\n\n\n@Component({\n  selector: 'ab-me',\n  templateUrl: './me.component.html',\n  styles: []\n})\nexport class MeComponent implements OnInit {\n  public schemas;\n  public editProfile;\n  public widgetsSchema: IWidgetSchema[];\n\n  public user: IUser = null;\n  public logOutActive: Boolean;\n  public changePasswordActive: Boolean;\n  public editProfileActive: Boolean;\n\n  public organization: IOrganization = null;\n\n  constructor(\n    private security: SecurityService,\n    private me: MeService,\n    private bus: BusService,\n    private schema: SchemaService) {\n  }\n\n  ngOnInit() {\n    this.schema\n      .getSchema$('me')\n      .subscribe(schema => {\n        this.schemas = schema;\n        this.getMe();\n      });\n  }\n\n  getMe() {\n    this.security\n      .getMe()\n      .subscribe(user => {\n        if (user) {\n          this.user = user;\n          this.editProfile = this.schemas.editProfile;\n          this.schema.populateDefaultValues(this.editProfile, this.user);\n          this.widgetsSchema = [];\n          const userSchema = this.schemas.userSchema;\n          const userRole = this.user.roles[0].toString().toLowerCase();\n          userSchema.header.title = this.user.name + ' - ' + userRole.toUpperCase();\n          userSchema.header.subtitle = this.user.email;\n          this.widgetsSchema.push(userSchema);\n          const roleSchema = this.schemas[userRole];\n          this.configureRoleSchemas(userRole, roleSchema);\n          this.widgetsSchema = this.widgetsSchema.concat(roleSchema);\n        } else {\n          this.security.logOutUser();\n        }\n      });\n  }\n\n  // tslint:disable-next-line:cyclomatic-complexity\n  configureRoleSchemas(userRole, roleSchema) {\n    if (userRole === 'god') {\n      this.me.getOrganizationsCount()\n        .subscribe(count => roleSchema[0].header.counter = count);\n      this.me.getUsersCount()\n        .subscribe(count => roleSchema[1].header.counter = count);\n    } else if (userRole === 'admin') {\n      this.me.getAdministratedOrganization(this.user.organizationId)\n        .subscribe(organization => {\n          this.organization = organization;\n          if (this.organization) {\n            roleSchema[0].header.title = this.organization.name;\n            roleSchema[0].header.subtitle = this.organization.slogan;\n            // roleSchema[0].actions[0].link = `me/organization/${this.organization.slug}`;\n          }\n        });\n      this.me.getUsersCount()\n        .subscribe(count => roleSchema[1].header.counter = count);\n    } else if (userRole === 'mestre') {\n\n    } else if (userRole === 'conserje') {\n\n    } else if (userRole === 'interno') {\n\n    } else {\n      this.security.logOutUser();\n    }\n  }\n\n  onSend(event) {\n    if (event.key === 'logout') {\n      this.logOutActive = true;\n    } else if (event.key === 'change_password') {\n      this.changePasswordActive = true;\n    } else if (event.key === 'edit_profile') {\n      this.editProfileActive = true;\n    } else if (event.key === 'delete') {\n      this.deleteUser();\n    }\n  }\n\n  onLogOutClick() {\n    this.logOutActive = false;\n    this.security.logOutUser();\n  }\n\n  onChangePasswordClick(changePasswordClaim) {\n    this.me.changePassword(changePasswordClaim).subscribe();\n    this.changePasswordActive = false;\n  }\n\n  onEditProfileClick(editProfileClaim) {\n    this.me.editProfile(editProfileClaim).subscribe(r => this.security.getMe().subscribe(() => this.security.navigateTo(['/'])));\n    this.editProfileActive = false;\n  }\n\n  deleteUser() {\n    this.me.deleteUser().subscribe(\n      () => {\n        this.security.logOutUser();\n      }\n    )\n  }\n\n}\n","module.exports = \".second {\\n  margin-top: 30px;\\n}\\n\"","module.exports = \"<section *ngIf=\\\"loadedMetadata;else loading\\\">\\n  <ab-panel [schema]=\\\"schemas\\\">\\n    <panel-body>\\n      <ab-form [formSchema]=\\\"schemas.form\\\"\\n               (send)=\\\"onSend($event)\\\">\\n      </ab-form>\\n    </panel-body>\\n  </ab-panel>\\n</section>\\n<ng-template #loading>\\n  <ab-load-empty-state [schema]=\\\"loadingPanelSchema\\\">\\n  </ab-load-empty-state>\\n</ng-template>\\n\"","import { Component, OnInit, ViewChild, AfterViewInit } from '@angular/core';\nimport { MeService } from 'app/views/me/me.service';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { BusService } from 'app/tools/bus.service';\nimport { IFormSchema, IWidgetSchema, IAction } from 'app/tools/schema.model';\n\n\n@Component({\n  selector: 'ab-organization',\n  templateUrl: './organization.component.html',\n  styleUrls: ['./organization.component.css']\n})\nexport class OrganizationComponent implements OnInit {\n\n  @ViewChild('filesInput') filesInput;\n\n  public tileSchema;\n  public schemas;\n  public user;\n  public formSchema: IFormSchema;\n  loadedMetadata = false;\n  loadingPanelSchema = {\n    loading: true,\n    empty: false\n  };\n  public showModal = false;\n  public organization: any;\n  public fileConfirmButton: IAction = {\n    label: 'Subir',\n    key: 'upload',\n    disabled: false\n  }\n\n  constructor(\n    private bus: BusService,\n    private me: MeService,\n    private schema: SchemaService) {\n  }\n\n  ngOnInit() {\n    this.schema\n      .getSchema$('me_organization')\n      .subscribe(schemas => {\n        this.schemas = schemas;\n        this.tileSchema = schemas['tile'];\n        this.formSchema = schemas.form;\n        this.bus\n          .getUser$()\n          .subscribe(user => {\n            this.user = user;\n            if (user && user.organizationId) {\n              this.me\n                .getAdministratedOrganization(user.organizationId)\n                .subscribe((organization: any) => {\n                  if (organization.banner) {\n                    this.schemas.tile.actions[0].disabled = true;\n                  }\n                  this.schemas.header.title = organization.name;\n                  this.organization = organization;\n                  this.schema.populateDefaultValues(this.formSchema, this.organization);\n                  this.loadedMetadata = true;\n                });\n            }\n          });\n      });\n  }\n\n  onSend(editedOrganization) {\n    this.loadedMetadata = false;\n    editedOrganization._id = this.organization._id;\n    this.me\n      .updateOrganization(editedOrganization)\n      .subscribe(savedOrganization => {\n        this.organization = savedOrganization;\n        this.schema.populateDefaultValues(this.formSchema, this.organization);\n        this.loadedMetadata = true;\n      });\n  }\n\n}\n","module.exports = \"\"","module.exports = \"<ab-panel [schema]=\\\"panelSchema\\\">\\n  <panel-body>\\n    <ab-editor [actionSchema]=\\\"actionSchema\\\"\\n               [tableData]=\\\"organizations\\\"\\n               [reportSchema]=\\\"reportSchema\\\"\\n               (rowAction)=\\\"onRowAction($event)\\\"\\n               [createFormSchema]=\\\"createFormSchema\\\"\\n               [cardSchema]=\\\"cardSchema\\\"\\n               (create)=\\\"onCreate($event)\\\"\\n               (delete)=\\\"onDelete($event)\\\">\\n    </ab-editor>\\n    <aside *ngIf=\\\"setAdminFormSchema\\\">\\n      <ab-modal [title]=\\\"setAdminFormSchema.title\\\"\\n                [active]=\\\"activeSetAdminModal\\\"\\n                (close)=\\\"onCloseSetAdminModal(null)\\\">\\n        <modal-content>\\n          <ab-form [formSchema]=\\\"setAdminFormSchema\\\"\\n                   (send)=\\\"onCloseSetAdminModal($event)\\\">\\n          </ab-form>\\n        </modal-content>\\n      </ab-modal>\\n    </aside>\\n  </panel-body>\\n</ab-panel>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { IOrganizationAdmin } from 'app/views/me/organization-admin.model';\nimport { Observable } from 'rxjs';\nimport { BusService } from 'app/tools/bus.service';\nimport { Level } from 'app/tools/message.model';\nimport { IFormSchema, IWidgetSchema, IReportSchema, ILoadEmptyStateSchema, IKeyValue } from 'app/tools/schema.model';\nimport { MeService } from 'app/views/me/me.service';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { tap } from 'rxjs/operators';\n\n@Component({\n  selector: 'ab-organizations',\n  templateUrl: './organizations.component.html',\n  styleUrls: ['./organizations.component.css']\n})\nexport class OrganizationsComponent implements OnInit {\n  public organizations: any[];\n  public activeSetAdminModal = false;\n  public activeCreateOrganizationModal = false;\n  public activeDeleteOrganizationModal = false;\n  public activeOrganization;\n  public createFormSchema: IFormSchema;\n  public actionSchema: IWidgetSchema;\n  public reportSchema: IReportSchema;\n  public setAdminFormSchema: IFormSchema;\n  public cardSchema: IWidgetSchema;\n  public panelSchema: IWidgetSchema = {};\n\n  public name = 'organizations';\n  constructor(\n    private me: MeService,\n    private bus: BusService,\n    private schema: SchemaService) { }\n\n  ngOnInit() {\n    this.schema\n      .getSchema$('me_organizations')\n      .subscribe(schemas => {\n        this.actionSchema = schemas.actions;\n        this.createFormSchema = schemas.create;\n        this.reportSchema = schemas.report;\n        this.setAdminFormSchema = schemas.setAdmin;\n        this.cardSchema = { header: { title: '' }, fields: this.createFormSchema.controls };\n        this.getOrganizations();\n      }\n      );\n  }\n\n  getOrganizations() {\n    this.me\n      .getOrganizations()\n      .pipe(\n        tap(data => this.organizations = data)\n      ).subscribe(this.getOrganizationsAdmins.bind(this));\n  }\n\n  getOrganizationsAdmins() {\n    this.organizations.forEach(this.getOrganizationAdmin.bind(this));\n  }\n\n  getOrganizationAdmin(organization) {\n    this.me\n      .getOrganizationAdmin(organization._id)\n      .subscribe(users => organization.admin = users ? users[0] : null);\n  }\n\n  onSetAdmin(organization) {\n    this.activeOrganization = organization;\n    this.activeSetAdminModal = true;\n  }\n\n  onCloseSetAdminModal(newAdmin) {\n    if (newAdmin) {\n      this.setOrganizationAdmin(newAdmin);\n    }\n    this.activeOrganization = null;\n    this.activeSetAdminModal = false;\n  }\n\n  onRowAction(data: IKeyValue) {\n    if (data.key === 'setAdmin') {\n      this.onSetAdmin(data.value);\n    }\n  }\n\n  setOrganizationAdmin(newAdmin) {\n    newAdmin.organizationId = this.activeOrganization._id;\n    this.me\n      .setOrganizationAdmin(newAdmin)\n      .subscribe(res => {\n        this.bus.emit({ level: Level.SUCCESS, text: newAdmin.name + ' asignado!!', code: '' });\n        this.getOrganizations();\n      });\n  }\n\n  onCreate(newOrganization) {\n    this.activeCreateOrganizationModal = false;\n    if (newOrganization) {\n      this.me\n        .postOrganization(newOrganization)\n        .subscribe(res => {\n          this.bus.emit({ level: Level.SUCCESS, text: newOrganization.name + ' creado!!', code: '' });\n          this.getOrganizations();\n        });\n    }\n  }\n\n\n  onDelete(oldOrganization) {\n    this.activeDeleteOrganizationModal = false;\n    this.me\n      .deleteOrganization(oldOrganization)\n      .subscribe(res => {\n        this.bus.emit({ level: Level.SUCCESS, text: oldOrganization.name + ' borrado!!', code: '' });\n        this.getOrganizations();\n      });\n  }\n}\n\n","module.exports = \"\\n\"","module.exports = \"<ab-panel [schema]=\\\"panelSchema\\\">\\n  <panel-body>\\n    <ab-editor [actionSchema]=\\\"actionSchema\\\"\\n               [tableData]=\\\"users\\\"\\n               [reportSchema]=\\\"reportSchema\\\"\\n               (rowAction)=\\\"onRowAction($event)\\\"\\n               [createFormSchema]=\\\"createFormSchema\\\"\\n               [cardSchema]=\\\"cardSchema\\\"\\n               [filterSchema]=\\\"'users_filter'\\\"\\n               (filter)=\\\"onFilter($event)\\\"\\n               (create)=\\\"onCreate($event)\\\"\\n               (delete)=\\\"onDelete($event)\\\">\\n    </ab-editor>\\n  </panel-body>\\n</ab-panel>\\n\"","import { MeService } from '../me.service';\nimport { BusService } from '../../../tools/bus.service';\nimport { Component, OnInit } from '@angular/core';\nimport { IWidgetSchema, IReportSchema, IFormSchema } from 'app/tools/schema.model';\nimport { SchemaService } from 'app/tools/components/schema.service';\nimport { Level } from 'app/tools/message.model';\n\n@Component({\n  selector: 'ab-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n\n  panelSchema: IWidgetSchema = {};\n  actionSchema: IWidgetSchema;\n  reportSchema: IReportSchema;\n  createFormSchema: IFormSchema;\n  public cardSchema: IWidgetSchema;\n  users: any[];\n\n  constructor(private bus: BusService, private me: MeService, private schema: SchemaService) { }\n\n  ngOnInit() {\n    this.schema\n      .getSchema$('me_users')\n      .subscribe(schemas => {\n        this.actionSchema = schemas.actions;\n        this.createFormSchema = schemas.create;\n        this.reportSchema = schemas.report;\n        this.cardSchema = { header: { title: '' }, fields: this.createFormSchema.controls };\n        this.filterUsers();\n      });\n  }\n\n  filterUsers(name?: string, status?: string) {\n    this.me\n      .getUsers(name, status)\n      .subscribe(users => this.users = users);\n  }\n\n  onFilter(payload) {\n    this.filterUsers(payload.name, payload.status);\n  }\n\n  onCreate(data) {\n    this.me.inviteUser(data).subscribe(r => this.filterUsers());\n  }\n\n  onDelete(data) {\n    this.me.removeUserDefinitively(data._id).subscribe(r => {\n      this.bus.emit({ level: Level.SUCCESS, text: 'Usuario eliminado con éxito', code: '' });\n      this.filterUsers();\n    });\n  }\n\n  onRowAction(data) {\n    switch (data.key) {\n      case 'aprobe':\n        this.me.approbeUser(data.value).subscribe(r => this.filterUsers());\n        this.bus.emit({ level: Level.SUCCESS, text: 'Usuario aprobado con éxito', code: '' });\n        break;\n      case 'disable':\n        this.me.disableUser(data.value).subscribe(r => this.filterUsers());\n        this.bus.emit({ level: Level.SUCCESS, text: 'Usuario deshabilitado con éxito', code: '' });\n        break;\n      case 'resend':\n        this.me.reInviteUser(data.value).subscribe(r => {\n          this.bus.emit({ level: Level.SUCCESS, text: 'Invitación reenviada con éxito', code: '' });\n        });\n        break;\n    }\n  }\n}\n"],"sourceRoot":""}